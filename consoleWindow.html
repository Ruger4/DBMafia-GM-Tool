<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Console</title>
        <link rel="stylesheet" href="./assets/style.css">
    </head>
    <body>
        <div class="container">
            <div class="dragBar">
                <div class="titleCSS">Ruger's DBMafia GM Tool</div>
                <div class="minimCSS" id="minimize">-</div>
                <div class="closeCSS" id="close">X</div>
            </div>
            <div class = "cons-div flex-row">
                <div class = "text-White mrlp5 mrrp5">Console:</div>
                <input type="text" id="console" class = "form fg2 mrrp5" autofocus>
            </div>
            <div class="ph glBorder">
                <header class="cta cgl phHeader">Console Command List</Header>
                <div class="cgl phText">
                    Replace "[option]" with selection then hit enter.</br>
                    Commands are not case sensitive.</br>
                    </br>
                    Give [Player] [Gun / Armour / Report / Bread / Moonshine / Evidence]</br>
                    Remove [Player] [Gun / Armour / Report / Bread / Moonshine / Evidence]</br>
                    Alive [Player] [True / False]</br>
                    Role [Player] [Role name (without spaces)]</br>
                    Align [Player] [Village / Mafia / Nobody / Cult]</br>
                </div>
            </div>
        </div>
        <script>  
            const {ipcRenderer} = require('electron');
            ipcRenderer.on('console-function-return', (e, arg) => { document.getElementById("console").value = arg; })
            const form = document.querySelector('#console');
            form.addEventListener("keyup", function(event) {
                event.preventDefault();
                if (event.keyCode === 13) executeConsole()
            });
            function executeConsole(){
                var form = document.getElementById("console");
                ipcRenderer.send('console-string', form.value);
                form.value = "";
            }
        </script>
        <script src="./assets/js/script.js"></script>
    </body>
</html>